# sham-ui-macro

[![Build Status](https://travis-ci.com/sham-ui/sham-ui-macro.svg?branch=master)](https://travis-ci.com/sham-ui/sham-ui-macro)
[![npm version](https://badge.fury.io/js/sham-ui-macro.svg)](https://badge.fury.io/js/sham-ui-macro)
[![MIT Licence](https://badges.frapsoft.com/os/mit/mit.svg?v=103)](https://opensource.org/licenses/mit-license.php)

Babel macros for `sham-ui`.

### Install

Install from yarn:
`yarn add sham-ui-macro --dev`

And add `babel-macros` plugin to your babel config. 

### ref

Add to to `package.json` 

-   for app for `dev` envrimonent

```json
"babelMacros": {
  "ref": {
    "uniq": false,
    "enabled": true
  }
}
```

-   for app for `prod` envrimonent

```json
"babelMacros": {
  "ref": {
    "uniq": true,
    "enabled": true
  }
}
```

-   for library

```json
"babelMacros": {
  "ref": {
    "enabled": false
  }
}
```

### API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

##### Table of Contents

-   [inject](#inject)
    -   [Parameters](#parameters)
    -   [Examples](#examples)
-   [$](#)
    -   [Parameters](#parameters-1)
    -   [Examples](#examples-1)
-   [this$](#this)
    -   [Parameters](#parameters-2)
    -   [Examples](#examples-2)

#### inject

Macro for `DI.resolve`

##### Parameters

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Name of injected item

##### Examples

```javascript
import { inject } from 'sham-ui-macro/inject.macro';
class Service {
    @inject api;
    @inject( 'sham-ui:store' ) uiStore;
}


// ↓ ↓ ↓ ↓ ↓ ↓

class Service {
   get api() {
       return this.DI.resolve('api');
   }

   get uiStore() {
       return this.DI.resolve('sham-ui:store');
   }

}
```

#### $

Macro for get/generate uniq reference

##### Parameters

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Name of reference

##### Examples

```javascript
// Config in package.json
// "babelMacros": {
//   "ref": {
//     "enabled": true,
//     "uniq": true
//   }
// }

import { $ } from 'sham-ui-macro/ref.macro';

const firstName = $();
const lastName = $.lastName;
const state = {
    [ firstName ]: 'John',
    [ lastName ]: 'Smith'
}
const fullName = state[ $( 'firstName' ) ] + state[ $.lastName ];

// ↓ ↓ ↓ ↓ ↓ ↓

const firstName = 0;
const lastName = 1;
const state = {
    [ firstName ]: 'John',
    [ lastName ]: 'Smith'
}
const fullName = state[ 0 ] + state[ 1 ];
```

#### this$

Sugar for $ macro. Translate `this$.foo` to analog `this[ $.foo ]`

##### Parameters

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Name of reference

##### Examples

```javascript
// Config in package.json
// "babelMacros": {
//   "ref": {
//     "enabled": true,
//     "uniq": true
//   }
// }

import { this$ } from 'sham-ui-macro/ref.macro';

this$.handleClick = e => { };

// ↓ ↓ ↓ ↓ ↓ ↓

this[ 0 ] = e => {};
```
